<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gxa.jbgsw.business.mapper.AttentionMapper">

<select id="getMyAttentionInfos" resultType="com.gxa.jbgsw.business.protocol.dto.MyAttentionInfo"
        parameterType="com.gxa.jbgsw.business.protocol.dto.MyAttentionRequest">




</select>

<select id="getDynamicInfo" resultType="com.gxa.jbgsw.business.protocol.dto.AttentionDynamicDTO">
        SELECT
          b.id,
          b.amount,
          b.title,
          b.type,
          b.create_at AS createAt,
          b.unit_name AS unitName
        FROM
            t_attention AS a
        LEFT JOIN t_billboard AS b ON a.pid = b.id
        WHERE
            a.user_id = #{userId}
            AND date_sub(CURDATE(), interval 1 month) <![CDATA[ < ]]> b.create_at
            order by b.create_at desc
</select>


</mapper>